<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>ğŸ ã‚¹ãƒãƒ¼ã‚¯ - ã²ã¾ã¤ã¶ã—ã¨å­¦ã³ã®åº­</title>
<style>
body { text-align: center; font-family: "Noto Sans JP"; background: #e8f5e9; }
canvas { background: #c8e6c9; margin-top: 20px; border-radius: 10px; }
button { margin-top: 10px; border: none; background: #fff; padding: 10px 20px;
  border-radius: 10px; cursor: pointer; box-shadow: 0 2px 5px rgba(0,0,0,0.2); }
</style>
</head>
<body>
  <h1>ğŸ ã‚¹ãƒãƒ¼ã‚¯</h1>
  <canvas id="game" width="200" height="200"></canvas><br>
  <button onclick="start()">â–¶ ã‚¹ã‚¿ãƒ¼ãƒˆ</button>
  <button onclick="location.href='index.html'">ğŸ¡ ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã«æˆ»ã‚‹</button>
<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");
let snake, dir, food, game;

function start() {
  snake = [{x:10,y:10}];
  dir = {x:1,y:0};
  food = {x:Math.floor(Math.random()*20),y:Math.floor(Math.random()*20)};
  clearInterval(game);
  game = setInterval(loop,150);
}

document.addEventListener("keydown", e=>{
  if(e.key==="ArrowUp"&&dir.y===0) dir={x:0,y:-1};
  if(e.key==="ArrowDown"&&dir.y===0) dir={x:0,y:1};
  if(e.key==="ArrowLeft"&&dir.x===0) dir={x:-1,y:0};
  if(e.key==="ArrowRight"&&dir.x===0) dir={x:1,y:0};
});

function loop(){
  const head={x:snake[0].x+dir.x,y:snake[0].y+dir.y};
  if(head.x<0||head.y<0||head.x>=20||head.y>=20||snake.some(s=>s.x===head.x&&s.y===head.y)){
    alert("ã‚²ãƒ¼ãƒ ã‚ªãƒ¼ãƒãƒ¼ï¼");
    return clearInterval(game);
  }
  snake.unshift(head);
  if(head.x===food.x&&head.y===food.y){
    food={x:Math.floor(Math.random()*20),y:Math.floor(Math.random()*20)};
  } else snake.pop();
  ctx.clearRect(0,0,200,200);
  ctx.fillStyle="green";
  snake.forEach(s=>ctx.fillRect(s.x*10,s.y*10,10,10));
  ctx.fillStyle="red";
  ctx.fillRect(food.x*10,food.y*10,10,10);
}
</script>
</body>
</html>
